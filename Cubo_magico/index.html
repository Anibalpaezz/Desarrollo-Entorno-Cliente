<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Cuadrados M치gicos</title>
    <style>
        table {
            border-collapse: collapse;
            margin: 20px;
        }

        td {
            border: 1px solid #000;
            width: 30px;
            height: 30px;
            text-align: center;
        }
    </style>
</head>

<body>

    <h2>Generador de Cuadrados M치gicos</h2>

    <label for="orden">Introduce el orden del cuadrado m치gico (n): </label>
    <input type="number" id="orden" min="3" step="2" value="3">
    <button onclick="generarCuadradoMagico()">Generar</button>

    <table id="cuadradoMagico"></table>

    <script>
        function generarCuadradoMagico() {
            const orden = parseInt(document.getElementById("orden").value);
            if (orden % 2 === 0) {
                alert("El orden debe ser impar para generar un cuadrado m치gico.");
                return;
            }

            const cuadrado = new Array(orden).fill(0).map(() => new Array(orden).fill(0));
            let i = 0, j = Math.floor(orden / 2);

            for (let num = 1; num <= orden * orden; num++) {
                cuadrado[i][j] = num;
                i -= 1;
                j += 1;

                if (num % orden === 0) {
                    i += 2;
                    j -= 1;
                } else if (i < 0) {
                    i = orden - 1;
                } else if (j === orden) {
                    j = 0;
                }
            }

            mostrarCuadradoMagico(cuadrado);
        }

        function mostrarCuadradoMagico(cuadrado) {
            const tabla = document.getElementById("cuadradoMagico");
            tabla.innerHTML = "";

            for (const fila of cuadrado) {
                const tr = document.createElement("tr");
                for (const num of fila) {
                    const td = document.createElement("td");
                    td.textContent = num;
                    tr.appendChild(td);
                }
                tabla.appendChild(tr);
            }
        }
    </script>

</body>

</html>